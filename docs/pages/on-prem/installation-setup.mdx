# Installation Setup

This guide will walk you through the process of installing Authenta On-Prem in your environment.

## Prerequisites Check

Before proceeding, ensure you have met all [prerequisites](/on-prem/prerequisites):

- Hardware requirements
- Software dependencies
- Network access
- Storage setup
- Authenta Registry Credentials

## Installation Steps

### 1. Prepare Environment

```bash
# Create required directories
sudo mkdir -p /opt/authenta/data
sudo chmod -R 775 /opt/authenta/data
```

### 2. Configure AWS Credentials

```bash
# Configure AWS CLI for ECR access
aws configure set aws_access_key_id <AWS_ACCESS_KEY>
aws configure set aws_secret_access_key <AWS_SECRET_ACCESS_KEY>
aws configure set default.region us-east-1
```

> Tip: Replace \<AWS_ACCESS_KEY\> and \<AWS_SECRET_ACCESS_KEY\> with the value provided by Authenta Support.

> Note: Authenta provides its AWS Account ID and **read-only ECR credentials** privately to verified enterprise clients during onboarding. These credentials are required to pull container images from Authentaâ€™s private registry. For credential delivery or renewal, please contact [Authenta Support](/on-prem/support).

#### âœ… Verify AWS Login

You can verify that your AWS CLI is configured correctly and authenticated by running:

```bash
aws sts get-caller-identity
```

Expected output:

```json
{
  "UserId": "AIDAEXAMPLE123",
  "Account": "111122223333",
  "Arn": "arn:aws:iam::111122223333:user/authenta-client"
}
```

If this command returns valid account information, your AWS credentials are correctly set up.

### 3. Download Authenta Deployment Artifacts

Authenta provides a public GitHub repository containing all deployment artifacts and the required Docker Compose configuration.

Clone the repository:

```bash
git clone https://github.com/praveen-benedict-authenta/authenta-docs.git
```

Move into the **artifacts** directory:

```bash
cd authenta-docs/artifacts
```

This folder contains:

- `docker-compose.yml` â€” defines the required Authenta services (RabbitMQ, ML Task Runner, etc.)
- `demo-webapp/` â€” a sample application to test model inference (optional)
- Other deployment-related files and configurations.

---

### 4. Authenticate and Deploy Containers

Authenticate to Authentaâ€™s private ECR and start all services using Docker Compose.

```bash
# Authenticate to Authentaâ€™s ECR
aws ecr get-login-password --region us-east-1 | docker login --username AWS --password-stdin <AUTHENTA_ACCOUNT_ID>.dkr.ecr.us-east-1.amazonaws.com

# For GPU environment:
docker compose --profile gpu up -d

# For CPU-only environment:
docker compose --profile cpu up -d
```

> **Important:**
> Run the `docker compose up` command **inside the `artifacts` directory** where the official `docker-compose.yml` file is located.
> Docker will automatically detect and use this compose file to launch the required services.
>
> Once the containers are up, Authentaâ€™s services (RabbitMQ and ML Task Runner) will start automatically and operate within your network.

---

### 5. Verify Deployment

Check the running containers:

```bash
docker compose ps
```

You should see containers for:

- `rabbitmq`
- `ml-task-runner-cpu` **or** `ml-task-runner-gpu` (depending on configuration)

Once these are active, Authenta On-Prem is deployed and ready to process inference jobs.

> âœ… **At this stage, your service is live.**
> You can begin publishing tasks to RabbitMQ â€” Authenta will automatically process them using the configured models.

---

### 6. (Optional) Test with the Demo Web Application

Authenta includes a sample Node.js application for testing and verification.
This demo helps you verify that message publishing and inference results are functioning correctly.

To run the demo:

```bash
# Move into the demo web app directory
cd demo-webapp

# Install dependencies
npm install

# Start the demo app
node index.js
```

The demo web app runs by default on **port 3000**.
Open your browser and visit:
ðŸ‘‰ **[http://localhost:3000](http://localhost:3000)**

You can use the web interface to submit sample media and verify that RabbitMQ and the ML task runner are communicating properly.

---

## Post-Installation

1. Access the RabbitMQ management dashboard at:
   ðŸ‘‰ `http://localhost:15672`

   - Username: `admin`
   - Password: (refer to your configuration file)

2. Once verified, you can **disable internet access** for full offline operation.
   Authenta continues to function without any external connectivity.

---

## Next Steps

- Review [configuration options](/on-prem/configuration)
- Learn how to [use Authenta](/on-prem/using-authenta)
- Set up [monitoring & updates](/on-prem/maintenance-updates)

---

## Troubleshooting

If you encounter any issues:

1. Check the [troubleshooting guide](/on-prem/troubleshooting)
2. Review container logs for detailed error messages
3. Contact [support](/on-prem/support) for assistance
